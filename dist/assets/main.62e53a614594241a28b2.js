(()=>{"use strict";var e,n={826:(e,n,r)=>{var t=r(745),o=r(294),a=r(893);const i=function(e){var n=e.children;return(0,a.jsx)(P.Provider,{value:(0,o.useReducer)(k,O),children:n})};var c,l;!function(e){e[e.LIGHT=0]="LIGHT",e[e.DARK=1]="DARK"}(c||(c={})),function(e){e[e.SWITCH_THEME=0]="SWITCH_THEME"}(l||(l={}));var u,s=r(804);const d=(0,s.vJ)(u||(p=["\n    *,\n    *::before,\n    *::after {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        box-sizing: border-box;\n    }\n\n    ::-webkit-scrollbar {\n        width: 0px;\n    }\n\n    body,\n    #root {\n        width: 100vw;\n        height: 100vh;\n        max-width: 100vw;\n        display: flex;\n        justify-content: center;\n        align-items: flex-start;\n    }\n\n"],f||(f=p.slice(0)),u=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(f)}}))));var p,f;const y={name:c.DARK,palette:{background:{main:"black",on:""},primary:{main:"",on:"",light:"",dark:""},secondary:{main:"",on:"",light:"",dark:""}}},h={name:c.LIGHT,palette:{background:{main:"white",on:""},primary:{main:"",on:"",light:"",dark:""},secondary:{main:"",on:"",light:"",dark:""}}};function m(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function g(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){b(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function b(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}c.LIGHT;var v=c.DARK,w=l.SWITCH_THEME,j=h,x=y;const S={dispatchers:{switchTheme:function(){return{type:w}}},reducers:function(e,n){return b({},w,(function(){return g(g({},e),{},{theme:e.theme.name===v?j:x})}))}},O={theme:h},k=function(e,n){return S.reducers(e,n)[n.type]};var A=S.dispatchers,P=(0,o.createContext)(null);function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(a.push(t.value),!n||a.length!==n);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return M(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var T;const V=s.ZP.div(T||(T=function(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  ","\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--background);\n  background-image: radial-gradient(circle at 0 0, red, transparent),\n    radial-gradient(circle at 100% 50%, blue, transparent),\n    radial-gradient(circle at 0 100%, yellow, transparent);\n"])),(function(e){var n=e.palette;return"\n  --background: ".concat(n.background.main,";\n  --on-background: ").concat(n.background.on,";\n  --primary: ").concat(n.primary.main,";\n  --on-primary: ").concat(n.primary.on,";\n  --primary-on-light: ").concat(n.primary.light,";\n  --primary-on-dark: ").concat(n.primary.dark,";\n  --secondary: ").concat(n.secondary.main,";\n  --on-secondary: ").concat(n.secondary.on,";\n  --secondary-on-light: ").concat(n.secondary.light,";\n  --secondary-on-dark: ").concat(n.secondary.dark,";\n  ")})),C=function(e){var n,r=e.children,t={state:(n=E((0,o.useContext)(P),2))[0],dispatch:n[1],actions:A}.state;return(0,a.jsx)(V,{palette:t.theme.palette,"data-layout":"",children:r})};var I=r(240),L=r(477),D=r(666),R=r(365),_=r(537),H=r(709);function K(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(a.push(t.value),!n||a.length!==n);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Q(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var z="PLAYER",B=new L.Vector3(0,-9.8,0),G=.017,U={front:new L.Vector3(0,0,1),back:new L.Vector3(0,0,-1),left:new L.Vector3(1,0,0),rigt:new L.Vector3(-1,0,0),up:new L.Vector3(0,1,0),down:new L.Vector3(0,-1,0)},W={KeyW:0,KeyS:0,KeyA:0,KeyD:0,Space:0,ShiftLeft:0,ShiftRight:0};addEventListener("keydown",(function(e){var n=e.code;return W[n]=1})),addEventListener("keyup",(function(e){var n=e.code;return W[n]=0}));var F=function(e,n){return e.intersectObject(n).filter((function(e){var n=e.object;return n instanceof L.Mesh&&n.name!==z}))[0]},Y=new L.Vector2,q=function(e,n,r,t,o,a){var i=e.x,c=e.y;return r((function(e){var r=function(n,r){return(new L.Quaternion).setFromAxisAngle(n.clone().applyQuaternion(e),r)},l=r(U.up,(Y.x-i-i/90)*Math.PI),u=r(U.left,-c*Math.PI/2);Y.set(i,c);var s=new L.Vector3(-3,5,-5).applyQuaternion(e);t.position.lerp(s.add(n),.1),t.lookAt(U.front.clone().applyQuaternion(e).applyQuaternion(u).add(t.position)),a.near=0,a.far=20;var d=n.clone().add(new L.Vector3(0,1,0)),p=t.position.clone().sub(d).normalize();a.set(d,p);var f=F(a,o);return f&&t.position.lerp(f.point,.1),e.multiply(l)}))},X=function(e){var n=K((0,o.useState)(new L.Vector3(0,10,0)),2),r=n[0],t=n[1],a=K((0,o.useState)(new L.Quaternion),2),i=a[0],c=a[1],l=K((0,o.useState)(new L.Vector3),2),u=l[0],s=l[1],d=K((0,o.useState)(new L.Vector3),2),p=d[0],f=d[1];(0,H.x)((function(n){var o=n.mouse,a=n.scene,l=n.camera,d=n.raycaster;!function(e){var n=W.KeyW,r=W.KeyS,t=W.KeyA,o=W.KeyD,a=W.ShiftLeft,i=W.ShiftRight,c=60*(1===a||1===i?3:1);e((function(e){return e.copy(new L.Vector3(t-o,0,n-r).normalize().multiplyScalar(c))}))}(s);var y=function(e,n,r,t){return Object.entries(U).map((function(o){var a,i=K(o,2),c=i[0],l=i[1];r.near=0,r.far=1,r.set(new L.Vector3(0,1,0).clone().add(e),l.clone().applyQuaternion(n));var u=F(r,t);return u?{collided:!0,normal:null===(a=u.face)||void 0===a?void 0:a.normal,point:u.point,name:c}:{collided:!1,name:c}}))}(r,i,d,a);f((function(e){e.add(B.clone().multiplyScalar(G));var n=u.clone().applyQuaternion(i);y.forEach((function(r){var o=r.collided,a=r.normal,i=r.name,c=r.point;o&&(e.add(a.clone().multiplyScalar(-p.dot(a))),"down"===i&&(t((function(e){return e.lerp(c,.1)})),n.applyQuaternion((new L.Quaternion).setFromUnitVectors(U.up,a)),W.Space&&e.add(U.up.clone().multiplyScalar(5)),0===u.length()&&e.multiplyScalar(.9)))})),e.add(n.multiplyScalar(G));var r=e.clone().setY(0);return r.length()>20?r.normalize().multiplyScalar(20).setY(e.y):e})),t((function(e){return e.add(p.clone().multiplyScalar(G))})),q(o,r,c,l,a,d),e((function(e){return e.position.copy(r),e.quaternion.copy(i),e}))}))},N=function(){var e=K((0,o.useState)(null),2)[1];return X(e),(0,a.jsxs)("group",{ref:e,children:[(0,a.jsxs)("mesh",{castShadow:!0,name:z,"position-y":1,receiveShadow:!0,children:[(0,a.jsx)("sphereBufferGeometry",{args:[1]}),(0,a.jsx)("meshStandardMaterial",{color:"white",roughness:0})]}),(0,a.jsx)("axesHelper",{args:[3],"position-y":1})]})},Z=r(444),$=new L.PlaneBufferGeometry(300,300,50,50);$.rotateX(-Math.PI/2);var J=$.attributes.position;J.needsUpdate=!0,$.computeVertexNormals(),new Array(J.count).fill("").forEach((function(e,n){var r=J.getX(n),t=J.getZ(n);J.setY(n,4*(Math.sin(r/20)+Math.sin(t/15)))})),J.needsUpdate=!0,$.computeVertexNormals();var ee=function(){return(0,a.jsx)("mesh",{geometry:$,receiveShadow:!0,castShadow:!0,children:(0,a.jsx)(Z.Q,{envMapIntensity:.5,dithering:!0,color:"white",metalness:0,roughness:1,blur:[1e3,400],mixBlur:30,mixStrength:80,mixContrast:1,resolution:1024,mirror:0,depthScale:.01,minDepthThreshold:.9,maxDepthThreshold:1,depthToBlurRatioBias:.25,reflectorOffset:.3})})},ne=function(){return(0,a.jsxs)(I.Xz,{shadows:!0,gl:{powerPreference:"high-performance",logarithmicDepthBuffer:!0,antialias:!1,stencil:!1,alpha:!1,depth:!0},onCreated:function(e){var n=e.camera,r=e.scene,t=e.gl;t.toneMapping=L.ACESFilmicToneMapping,t.toneMappingExposure=1.5,t.outputEncoding=L.sRGBEncoding,t.physicallyCorrectLights=!0,t.shadowMap.enabled=!0,t.setPixelRatio(Math.min(devicePixelRatio,2)),t.setClearColor(new L.Color("rgb(43,43,53)")),n.near=.1,n.far=120,n.position.set(2,2,5),n.lookAt(0,0,0),r.fog=new L.Fog("black",0,120),r.background=new L.Color("black"),(new D.x).load("blurry.hdr",(function(e){e.mapping=L.EquirectangularReflectionMapping,r.environment=e})),new R.z(n,t.domElement).update()},children:[(0,a.jsx)(ee,{}),(0,a.jsx)(N,{}),(0,a.jsx)("ambientLight",{color:"rgb(167,140,129)"}),(0,a.jsx)("ambientLight",{color:"rgb(255,211,153)",intensity:.5}),(0,a.jsx)("directionalLight",{color:"white",position:[-5,5,0],castShadow:!0}),(0,a.jsx)("directionalLight",{color:"rgb(252,190,180)",position:[0,5,-5]}),(0,a.jsx)("axesHelper",{args:[30]}),(0,a.jsx)(_.j,{})]})},re=function(){return(0,a.jsx)(C,{children:(0,a.jsx)(o.Suspense,{fallback:null,children:(0,a.jsx)(ne,{})})})};(0,t.s)(document.querySelector("#root")).render((0,a.jsxs)(i,{children:[(0,a.jsx)(d,{}),(0,a.jsx)(re,{})]}))}},r={};function t(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return n[e].call(a.exports,a,a.exports,t),a.exports}t.m=n,e=[],t.O=(n,r,o,a)=>{if(!r){var i=1/0;for(s=0;s<e.length;s++){for(var[r,o,a]=e[s],c=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(t.O).every((e=>t.O[e](r[l])))?r.splice(l--,1):(c=!1,a<i&&(i=a));if(c){e.splice(s--,1);var u=o();void 0!==u&&(n=u)}}return n}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[r,o,a]},t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};t.O.j=n=>0===e[n];var n=(n,r)=>{var o,a,[i,c,l]=r,u=0;if(i.some((n=>0!==e[n]))){for(o in c)t.o(c,o)&&(t.m[o]=c[o]);if(l)var s=l(t)}for(n&&n(r);u<i.length;u++)a=i[u],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(s)},r=self.webpackChunk_guhcalm_minimal_boilerplate=self.webpackChunk_guhcalm_minimal_boilerplate||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var o=t.O(void 0,[977],(()=>t(826)));o=t.O(o)})();